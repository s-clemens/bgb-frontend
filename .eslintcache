[{"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\index.js":"1","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\App.js":"2","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\reportWebVitals.js":"3","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Home\\Home.js":"4","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Profile\\Profile.js":"5","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Login\\Login.js":"6","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Signup\\Signup.js":"7","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Components\\TopMenu.js":"8","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\context\\AuthContext.js":"9","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\index.js":"10","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\reportWebVitals.js":"11","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\App.js":"12","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\context\\AuthContext.js":"13","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\TopMenu.js":"14","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Home\\Home.js":"15","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Profile\\Profile.js":"16","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Login\\Login.js":"17","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Signup\\Signup.js":"18","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Page.js":"19","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\pagetitile\\Pagetitle.js":"20","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\LineBreak\\LineBreak.js":"21","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Image\\Image.js":"22"},{"size":747,"mtime":1611066762023,"results":"23","hashOfConfig":"24"},{"size":1544,"mtime":1613134556343,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":499162500000,"results":"26","hashOfConfig":"24"},{"size":220,"mtime":1610711478054,"results":"27","hashOfConfig":"24"},{"size":642,"mtime":1614192276300,"results":"28","hashOfConfig":"24"},{"size":2622,"mtime":1614193529315,"results":"29","hashOfConfig":"24"},{"size":3451,"mtime":1614193096769,"results":"30","hashOfConfig":"24"},{"size":1314,"mtime":1613213898883,"results":"31","hashOfConfig":"24"},{"size":5027,"mtime":1614196071257,"results":"32","hashOfConfig":"24"},{"size":747,"mtime":1611066762023,"results":"33","hashOfConfig":"34"},{"size":362,"mtime":499162500000,"results":"35","hashOfConfig":"34"},{"size":1544,"mtime":1614268150029,"results":"36","hashOfConfig":"34"},{"size":5027,"mtime":1614196071257,"results":"37","hashOfConfig":"34"},{"size":2298,"mtime":1614329196109,"results":"38","hashOfConfig":"34"},{"size":689,"mtime":1614331110449,"results":"39","hashOfConfig":"34"},{"size":740,"mtime":1614288898412,"results":"40","hashOfConfig":"34"},{"size":2776,"mtime":1614288876472,"results":"41","hashOfConfig":"34"},{"size":3842,"mtime":1614336211259,"results":"42","hashOfConfig":"34"},{"size":287,"mtime":1614270351117,"results":"43","hashOfConfig":"34"},{"size":179,"mtime":1614289417809,"results":"44","hashOfConfig":"34"},{"size":407,"mtime":1614293697714,"results":"45","hashOfConfig":"34"},{"size":246,"mtime":1614329456124,"results":"46","hashOfConfig":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"1q18xc3",{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"49"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"k4au7w",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"70"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"70"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"70"},"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\index.js",[],["97","98"],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\App.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\reportWebVitals.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Home\\Home.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Profile\\Profile.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Login\\Login.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Signup\\Signup.js",[],["99","100"],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Components\\TopMenu.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\context\\AuthContext.js",["101"],"// We willen in de context bijhouden of we op dit moment:\r\n// Gebruikersdata hebben\r\n// en of de gebruiker geautoriseerd is om data te mogen bekijken.\r\n\r\nimport React, {createContext, useContext, useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst AuthContext = createContext({})\r\n\r\nfunction AuthContextProvider({ children }) {\r\n\r\n    const [authState, setAuthState] = useState({\r\n        status: 'pending',\r\n        error: null,\r\n        user: null,\r\n    })\r\n\r\n    // useEffect( () => {\r\n    //     // Haal uit de local storage de JWT Token\r\n    //     const token = localStorage.getItem('token')\r\n    //     // Als die er niet is kunnen we gewoon verder\r\n    //     // Als die er wel is dan betekent dat de applicatie herstart is\r\n    //     // En dan willen we nog even onze gebruikersdata (username, etc) ophalen.\r\n    //     setTimeout(() => {\r\n    //         // er is geen token, dus we beginnen met een schone lei!\r\n    //         setAuthState({\r\n    //             ...authState,\r\n    //             status: 'done',\r\n    //         })\r\n    //     }, 2000)\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n\r\n        async function getUserInfo() {\r\n            try {\r\n                console.log(\"banaan\")\r\n                console.log(token)\r\n                // We kunnen de gebruikersdata ophalen omdat we onszelf authenticeren met de token\r\n                const response = await axios.get('http://localhost:8080/api/auth/token-check', {\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\",\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    }\r\n                );\r\n                console.log(\"banaan2\")\r\n\r\n                console.log(response);\r\n\r\n                // met het resultaat vullen we de context\r\n                setAuthState({\r\n                    ...authState,\r\n                    user: {\r\n                        id: response.id,\r\n                        username: response.username,\r\n                        email: response.email,\r\n                    },\r\n                    status: 'done',\r\n                });\r\n\r\n            } catch (e) {\r\n                // Gaat er toch iets mis? Dan zetten we de error in de context\r\n                setAuthState({\r\n                    ...authState,\r\n                    user: null,\r\n                    error: e,\r\n                    status: 'done'\r\n                });\r\n            }\r\n        }\r\n\r\n        // als we GEEM userinformatie meer in de applicatie hebben, maar er staat WEL een token in\r\n        // local storage, gaan we handmatig de gebuikersdata ophalen door de getUserInfo functie van hierboven aan te roepen\r\n        if (authState.user === null && token) {\r\n            getUserInfo();\r\n        } else {\r\n            // Als er geen ingelogde gebruiker hoeft te zijn, zetten we de context naar de basis state\r\n            setAuthState({\r\n                ...authState,\r\n                error: null,\r\n                user: null,\r\n                status: 'done'\r\n            });\r\n        }\r\n    }, []);\r\n\r\n\r\n    // de token willen we in de local storage zetten\r\n    function login(data) {\r\n        console.log(data)\r\n        localStorage.setItem('token', data.accessToken)\r\n\r\n        // de user-info willen we in de context zetten\r\n        setAuthState({\r\n            ...authState,\r\n            user: {\r\n                username: data.username,\r\n                email: data.email,\r\n                roles: data.roles,\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    function logout(){\r\n        // 1. Maak local storage leeg\r\n        localStorage.clear();\r\n        // 2. Haal de user uit de context-state.\r\n        setAuthState({\r\n            ...authState,\r\n            user: null,\r\n        })\r\n\r\n    }\r\n\r\n    // De ... zorgt ervoor dat hij gaat kijken naar wat authState is, als je dit niet doet overschrijft hij de data\r\n    const providerData = {\r\n        ...authState,\r\n        login,\r\n        logout,\r\n        // logout, (functie zit er nog niet in)\r\n    }\r\n\r\n    return(\r\n        // Checkt of de Autstate done of pending is, als done dan laat hij de app zien, anders loading..\r\n        <AuthContext.Provider value={providerData}>\r\n            {authState.status === 'done' && children}\r\n            {authState.status === 'pending' && <p>Loading..</p>}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nfunction useAuthState(){\r\n    const authState = useContext(AuthContext);\r\n    // Iemand is geauthoriseerd wanneer de status === 'done'\r\n    // En als er een gebruiker in de authState staat\r\n    const isDone = authState.status === 'done';\r\n    const isAuthenticated = authState.user !== null && isDone;\r\n    console.log('Ik ben Authenticated:', isAuthenticated);\r\n\r\n    return{\r\n        ...authState,\r\n        isAuthenticated: isAuthenticated,\r\n    }\r\n}\r\n\r\n// Exports so it can be imported by other files\r\nexport {\r\n    AuthContext,\r\n    useAuthState,\r\n    AuthContextProvider\r\n}\r\n","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\index.js",[],["102","103"],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\reportWebVitals.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\App.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\context\\AuthContext.js",["104"],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\TopMenu.js",["105"],"import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {AuthContext, useAuthState } from \"../context/AuthContext\";\r\nimport { useContext } from 'react';\r\nimport logo from '../images/logos/BGB_White.png';\r\nimport \"./TopMenu.css\";\r\n\r\nfunction TopMenu() {\r\n\r\n    // context dingen\r\n    const { isAuthenticated, user } = useAuthState();\r\n    const { logout } = useContext(AuthContext)\r\n\r\n    return (\r\n        <>\r\n            <nav>\r\n            <div className=\"nav-container1\">\r\n                <div className=\"nav-container2\">\r\n                    <img src={logo} height={\"50px\"} alt={\"bgb white logo\"}/>\r\n                </div>\r\n                    <div className=\"nav-container3\">\r\n                            <ul>\r\n                                <li>\r\n                                    <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/\">HOME</NavLink>\r\n                                </li>\r\n\r\n                                <li>\r\n                                    <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-up\">RESERVEREN</NavLink>\r\n                                </li>\r\n\r\n                                <li>\r\n                                <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-in\">AANBOD</NavLink>\r\n                                </li>\r\n                                {isAuthenticated ?\r\n                                    (<li>\r\n                                        <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-in\">PROFIEL</NavLink>\r\n                                    </li>)\r\n                                    : (\r\n                                    <li>\r\n                                        <NavLink  exact to=\"/sign-in\">INLOGGEN</NavLink>\r\n                                    </li>)\r\n                                }\r\n\r\n                            </ul>\r\n                    </div>\r\n                <div className=\"nav-container4\">\r\n                    {isAuthenticated ?\r\n                        (<NavLink exact to=\"/Profile\">Logged in as: {user.username}</NavLink>)\r\n                    :\r\n                        (<p> test </p>)}\r\n                </div>\r\n            </div>\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TopMenu;\r\n","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Home\\Home.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Profile\\Profile.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Login\\Login.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Signup\\Signup.js",["106"],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Page.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\pagetitile\\Pagetitle.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\LineBreak\\LineBreak.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Image\\Image.js",["107"],"import React from \"react\";\r\nimport \"./Image.css\";\r\n\r\nconst Image = ({src}) => {\r\n\r\n    return(\r\n        <div className='image-container'>\r\n            <img className='image-component' src={src}  />\r\n        </div>\r\n    )\r\n}\r\nexport default Image;",{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"108","replacedBy":"112"},{"ruleId":"110","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":87,"column":8,"nodeType":"116","endLine":87,"endColumn":10,"suggestions":"117"},{"ruleId":"108","replacedBy":"118"},{"ruleId":"110","replacedBy":"119"},{"ruleId":"114","severity":1,"message":"115","line":87,"column":8,"nodeType":"116","endLine":87,"endColumn":10,"suggestions":"120"},{"ruleId":"121","severity":1,"message":"122","line":12,"column":13,"nodeType":"123","messageId":"124","endLine":12,"endColumn":19},{"ruleId":"121","severity":1,"message":"125","line":7,"column":8,"nodeType":"123","messageId":"124","endLine":7,"endColumn":16},{"ruleId":"126","severity":1,"message":"127","line":8,"column":13,"nodeType":"128","endLine":8,"endColumn":59},"no-native-reassign",["129"],"no-negated-in-lhs",["130"],["129"],["130"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.","ArrayExpression",["131"],["129"],["130"],["132"],"no-unused-vars","'logout' is assigned a value but never used.","Identifier","unusedVar","'ReactDOM' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"133","fix":"134"},{"desc":"133","fix":"135"},"Update the dependencies array to be: [authState]",{"range":"136","text":"137"},{"range":"138","text":"137"},[3148,3150],"[authState]",[3148,3150]]