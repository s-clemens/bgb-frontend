[{"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\index.js":"1","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\App.js":"2","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\reportWebVitals.js":"3","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Home\\Home.js":"4","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Profile\\Profile.js":"5","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Login\\Login.js":"6","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Signup\\Signup.js":"7","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Components\\TopMenu.js":"8","C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\context\\AuthContext.js":"9","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\index.js":"10","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\reportWebVitals.js":"11","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\App.js":"12","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\context\\AuthContext.js":"13","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\TopMenu.js":"14","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Home\\Home.js":"15","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Profile\\Profile.js":"16","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Login\\Login.js":"17","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Signup\\Signup.js":"18","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Page.js":"19","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\pagetitile\\Pagetitle.js":"20","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\LineBreak\\LineBreak.js":"21"},{"size":747,"mtime":1611066762023,"results":"22","hashOfConfig":"23"},{"size":1544,"mtime":1613134556343,"results":"24","hashOfConfig":"23"},{"size":362,"mtime":499162500000,"results":"25","hashOfConfig":"23"},{"size":220,"mtime":1610711478054,"results":"26","hashOfConfig":"23"},{"size":642,"mtime":1614192276300,"results":"27","hashOfConfig":"23"},{"size":2622,"mtime":1614193529315,"results":"28","hashOfConfig":"23"},{"size":3451,"mtime":1614193096769,"results":"29","hashOfConfig":"23"},{"size":1314,"mtime":1613213898883,"results":"30","hashOfConfig":"23"},{"size":5027,"mtime":1614196071257,"results":"31","hashOfConfig":"23"},{"size":747,"mtime":1611066762023,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":499162500000,"results":"34","hashOfConfig":"33"},{"size":1544,"mtime":1614268150029,"results":"35","hashOfConfig":"33"},{"size":5027,"mtime":1614196071257,"results":"36","hashOfConfig":"33"},{"size":2299,"mtime":1614288709630,"results":"37","hashOfConfig":"33"},{"size":514,"mtime":1614292770829,"results":"38","hashOfConfig":"33"},{"size":740,"mtime":1614288898412,"results":"39","hashOfConfig":"33"},{"size":2776,"mtime":1614288876472,"results":"40","hashOfConfig":"33"},{"size":3527,"mtime":1614288828086,"results":"41","hashOfConfig":"33"},{"size":287,"mtime":1614270351117,"results":"42","hashOfConfig":"33"},{"size":179,"mtime":1614289417809,"results":"43","hashOfConfig":"33"},{"size":407,"mtime":1614293697714,"results":"44","hashOfConfig":"33"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"1q18xc3",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"47"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"k4au7w",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"68"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"68"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\index.js",[],["92","93"],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\App.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\reportWebVitals.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Home\\Home.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Profile\\Profile.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Login\\Login.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Pages\\Signup\\Signup.js",[],["94","95"],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\Components\\TopMenu.js",[],"C:\\Users\\sidcl\\WebstormProjects\\react-loging-lesson\\src\\context\\AuthContext.js",["96"],"// We willen in de context bijhouden of we op dit moment:\r\n// Gebruikersdata hebben\r\n// en of de gebruiker geautoriseerd is om data te mogen bekijken.\r\n\r\nimport React, {createContext, useContext, useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst AuthContext = createContext({})\r\n\r\nfunction AuthContextProvider({ children }) {\r\n\r\n    const [authState, setAuthState] = useState({\r\n        status: 'pending',\r\n        error: null,\r\n        user: null,\r\n    })\r\n\r\n    // useEffect( () => {\r\n    //     // Haal uit de local storage de JWT Token\r\n    //     const token = localStorage.getItem('token')\r\n    //     // Als die er niet is kunnen we gewoon verder\r\n    //     // Als die er wel is dan betekent dat de applicatie herstart is\r\n    //     // En dan willen we nog even onze gebruikersdata (username, etc) ophalen.\r\n    //     setTimeout(() => {\r\n    //         // er is geen token, dus we beginnen met een schone lei!\r\n    //         setAuthState({\r\n    //             ...authState,\r\n    //             status: 'done',\r\n    //         })\r\n    //     }, 2000)\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n\r\n        async function getUserInfo() {\r\n            try {\r\n                console.log(\"banaan\")\r\n                console.log(token)\r\n                // We kunnen de gebruikersdata ophalen omdat we onszelf authenticeren met de token\r\n                const response = await axios.get('http://localhost:8080/api/auth/token-check', {\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\",\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    }\r\n                );\r\n                console.log(\"banaan2\")\r\n\r\n                console.log(response);\r\n\r\n                // met het resultaat vullen we de context\r\n                setAuthState({\r\n                    ...authState,\r\n                    user: {\r\n                        id: response.id,\r\n                        username: response.username,\r\n                        email: response.email,\r\n                    },\r\n                    status: 'done',\r\n                });\r\n\r\n            } catch (e) {\r\n                // Gaat er toch iets mis? Dan zetten we de error in de context\r\n                setAuthState({\r\n                    ...authState,\r\n                    user: null,\r\n                    error: e,\r\n                    status: 'done'\r\n                });\r\n            }\r\n        }\r\n\r\n        // als we GEEM userinformatie meer in de applicatie hebben, maar er staat WEL een token in\r\n        // local storage, gaan we handmatig de gebuikersdata ophalen door de getUserInfo functie van hierboven aan te roepen\r\n        if (authState.user === null && token) {\r\n            getUserInfo();\r\n        } else {\r\n            // Als er geen ingelogde gebruiker hoeft te zijn, zetten we de context naar de basis state\r\n            setAuthState({\r\n                ...authState,\r\n                error: null,\r\n                user: null,\r\n                status: 'done'\r\n            });\r\n        }\r\n    }, []);\r\n\r\n\r\n    // de token willen we in de local storage zetten\r\n    function login(data) {\r\n        console.log(data)\r\n        localStorage.setItem('token', data.accessToken)\r\n\r\n        // de user-info willen we in de context zetten\r\n        setAuthState({\r\n            ...authState,\r\n            user: {\r\n                username: data.username,\r\n                email: data.email,\r\n                roles: data.roles,\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    function logout(){\r\n        // 1. Maak local storage leeg\r\n        localStorage.clear();\r\n        // 2. Haal de user uit de context-state.\r\n        setAuthState({\r\n            ...authState,\r\n            user: null,\r\n        })\r\n\r\n    }\r\n\r\n    // De ... zorgt ervoor dat hij gaat kijken naar wat authState is, als je dit niet doet overschrijft hij de data\r\n    const providerData = {\r\n        ...authState,\r\n        login,\r\n        logout,\r\n        // logout, (functie zit er nog niet in)\r\n    }\r\n\r\n    return(\r\n        // Checkt of de Autstate done of pending is, als done dan laat hij de app zien, anders loading..\r\n        <AuthContext.Provider value={providerData}>\r\n            {authState.status === 'done' && children}\r\n            {authState.status === 'pending' && <p>Loading..</p>}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nfunction useAuthState(){\r\n    const authState = useContext(AuthContext);\r\n    // Iemand is geauthoriseerd wanneer de status === 'done'\r\n    // En als er een gebruiker in de authState staat\r\n    const isDone = authState.status === 'done';\r\n    const isAuthenticated = authState.user !== null && isDone;\r\n    console.log('Ik ben Authenticated:', isAuthenticated);\r\n\r\n    return{\r\n        ...authState,\r\n        isAuthenticated: isAuthenticated,\r\n    }\r\n}\r\n\r\n// Exports so it can be imported by other files\r\nexport {\r\n    AuthContext,\r\n    useAuthState,\r\n    AuthContextProvider\r\n}\r\n","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\index.js",[],["97","98"],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\reportWebVitals.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\App.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\context\\AuthContext.js",["99"],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\TopMenu.js",["100"],"import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {AuthContext, useAuthState } from \"../context/AuthContext\";\r\nimport { useContext } from 'react';\r\nimport logo from '../images/logos/BGB_White.png';\r\nimport \"./TopMenu.css\";\r\n\r\nfunction TopMenu() {\r\n\r\n    // context dingen\r\n    const { isAuthenticated, user } = useAuthState();\r\n    const { logout } = useContext(AuthContext)\r\n\r\n    return (\r\n        <>\r\n            <nav>\r\n            <div className=\"nav-container1\">\r\n                <div className=\"nav-container2\">\r\n                    <img src={logo} height={\"50px\"} alt={\"bgb white logo\"}/>\r\n                </div>\r\n                    <div className=\"nav-container3\">\r\n                            <ul>\r\n                                <li>\r\n                                    <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/\">HOME</NavLink>\r\n                                </li>\r\n\r\n                                <li>\r\n                                    <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-up\">RESERVEREN</NavLink>\r\n                                </li>\r\n\r\n                                <li>\r\n                                <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-in\">CONTACT</NavLink>\r\n                                </li>\r\n                                {isAuthenticated ?\r\n                                    (<li>\r\n                                        <NavLink activeStyle={{textDecoration: 'underline'}} exact to=\"/sign-in\">PROFIEL</NavLink>\r\n                                    </li>)\r\n                                    : (\r\n                                    <li>\r\n                                        <NavLink  exact to=\"/sign-in\">INLOGGEN</NavLink>\r\n                                    </li>)\r\n                                }\r\n\r\n                            </ul>\r\n                    </div>\r\n                <div className=\"nav-container4\">\r\n                    {isAuthenticated ?\r\n                        (<NavLink exact to=\"/Profile\">Logged in as: {user.username}</NavLink>)\r\n                    :\r\n                        (<p> test </p>)}\r\n                </div>\r\n            </div>\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TopMenu;\r\n","C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Home\\Home.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Profile\\Profile.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Login\\Login.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Pages\\Signup\\Signup.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\Page.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\pagetitile\\Pagetitle.js",[],"C:\\Users\\sidcl\\Desktop\\Board Game Bunker Applicatie\\bgb-frontend\\src\\Components\\LineBreak\\LineBreak.js",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"101","replacedBy":"105"},{"ruleId":"103","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":87,"column":8,"nodeType":"109","endLine":87,"endColumn":10,"suggestions":"110"},{"ruleId":"101","replacedBy":"111"},{"ruleId":"103","replacedBy":"112"},{"ruleId":"107","severity":1,"message":"108","line":87,"column":8,"nodeType":"109","endLine":87,"endColumn":10,"suggestions":"113"},{"ruleId":"114","severity":1,"message":"115","line":12,"column":13,"nodeType":"116","messageId":"117","endLine":12,"endColumn":19},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],["118"],["119"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.","ArrayExpression",["120"],["118"],["119"],["121"],"no-unused-vars","'logout' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"122","fix":"124"},"Update the dependencies array to be: [authState]",{"range":"125","text":"126"},{"range":"127","text":"126"},[3148,3150],"[authState]",[3148,3150]]